<?xml version="1.0" encoding="utf-8" ?>
<Defs>

  <ThingDef ParentName="PlantBase">
    <defName>OWD_Plant_Necrobloom</defName>
    <label>necro-bloom</label>
    <description>This flower is capable of absorbing storing and replicating necrotic archites inside itself. Doing so modifies its cellular structure to be the perfect recipient to store large quantities of necrotic archites.</description>
    <statBases>
      <MaxHitPoints>85</MaxHitPoints>
      <Nutrition>0.15</Nutrition>
    </statBases>
    <graphicData>
      <texPath>Things/Plants/Necrobloom</texPath>
      <graphicClass>Graphic_Random</graphicClass>
    </graphicData>
    <selectable>true</selectable>
    <pathCost>14</pathCost>
    <plant>
      <immatureGraphicPath>Things/Plants/NecrobloomImmature</immatureGraphicPath>
      <dieIfLeafless>true</dieIfLeafless>
      <maxMeshCount>4</maxMeshCount>
      <harvestTag>Standard</harvestTag>
      <harvestedThingDef>OWD_ArchiteDust</harvestedThingDef>
      <harvestYield>2</harvestYield>
      <sowResearchPrerequisites>
        <li>OWD_ControlServitorResearch</li>
      </sowResearchPrerequisites>
      <fertilitySensitivity>0</fertilitySensitivity>
      <growMinGlow>0</growMinGlow>
      <sowTags>
        <li>Ground</li>
        <li>Hydroponic</li>
      </sowTags>
      <topWindExposure>0.1</topWindExposure>
      <growDays>3</growDays>
      <visualSizeRange>0.5~0.8</visualSizeRange>
      <wildOrder>2</wildOrder>
      <purpose>Food</purpose>
      <humanFoodPlant>true</humanFoodPlant>
      <pollution>Any</pollution>
    </plant>
    <comps>
      <li Class="CompProperties_Glower">
        <glowRadius>3</glowRadius>
     <glowColor>(100, 180, 255, 0)</glowColor>
      </li>
    </comps>
  </ThingDef>

  <ThingDef ParentName="PlantFoodRawBase">
    <defName>OWD_ArchiteDust</defName>
    <label>archite dust</label>
    <description>A mixture of plant matter and necrotic archites, once cut, this flower's entire structure collapses until only dust remains.</description>
    <graphicData>
      <texPath>Things/Plants/OWD_ArchiteDust</texPath>
      <graphicClass>Graphic_StackCount</graphicClass>
    </graphicData>
    <statBases>
      <MarketValue>3.0</MarketValue>
      <Mass>0.01</Mass>
      <Nutrition>0.005</Nutrition>
    </statBases>
<ingestible>
 
      <foodType>VegetableOrFruit</foodType>
 <tasteThought>OWD_AteArchiteDust</tasteThought>
</ingestible>
   
    <thingCategories>
      <li>Items_Necromancy</li>
    </thingCategories>
  </ThingDef>









<ThingDef ParentName="ResourceBase">
    <defName>OWD_NecroBloomTonic</defName>
    <label>Necro-Bloom tonic</label>
    <description>A refined slurry of biomatter and necrotic archites. Has various effects if consumed but its main effect is to maintain a control servitor.</description>
    <thingClass>ThingWithComps</thingClass>
    <graphicData>
      <texPath>Things/Items/Necro-Bloom Tonic</texPath>
      <graphicClass>Graphic_StackCount</graphicClass>
      <color>(100, 255, 100)</color>
      <drawSize>0.8</drawSize>
    </graphicData>
    <techLevel>Neolithic</techLevel>
    <statBases>
      <MarketValue>75</MarketValue>
      <Mass>0.1</Mass>
      <MaxHitPoints>50</MaxHitPoints>
      <DeteriorationRate>2.0</DeteriorationRate>
    </statBases>
    <stackLimit>6</stackLimit>
    <alwaysHaulable>true</alwaysHaulable>
    <comps>
  <li Class="CompProperties_Usable">
        <useJob>UseItem</useJob>
        <useLabel>Drink Necro-Bloom tonic</useLabel>
        <useDuration>60</useDuration>
      </li>
         <li Class="CompProperties_UseEffectDestroySelf"/>
      <li Class="OneWithDeath.CompProperties_UseEffect_NecroBloomTonic"/>
      <li Class="CompProperties_UseEffectPlaySound">
        <soundOnUsed>MechSerumUsed</soundOnUsed>
      </li>
    </comps>
    <thingCategories>
      <li>Items_Necromancy</li>
    </thingCategories>
    <tradeability>None</tradeability>
  </ThingDef>

  <RecipeDef>
    <defName>Make_OWD_NecroBloomTonic</defName>
    <label>synthesize Necro-Bloom tonic</label>
    <description>Synthesize refined Necro-Bloom dust into a potent, multi-purpose tonic.</description>
    <jobString>Synthesizing Necro-Bloom tonic.</jobString>
    <workAmount>300</workAmount>
    <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
    <effectWorking>OWD_Effect_AltarCrafting_General</effectWorking>
    <soundWorking>Recipe_Surgery</soundWorking>
    <recipeUsers>
      <li>OWD_Altar</li>
    </recipeUsers>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>OWD_ArchiteDust</li>
          </thingDefs>
        </filter>
        <count>64</count>
      </li>
    </ingredients>
    <products>
      <OWD_NecroBloomTonic>1</OWD_NecroBloomTonic>
    </products>
    <fixedIngredientFilter>
      <thingDefs>
        <li>OWD_ArchiteDust</li>
      </thingDefs>
    </fixedIngredientFilter>
    <skillRequirements>
      <Crafting>6</Crafting>
    </skillRequirements>
    <modExtensions>
      <li Class="OneWithDeath.RecipeExtension_EnergyCost">
        <energyCost>10</energyCost>
      </li>
    </modExtensions>
  </RecipeDef>

  <HediffDef>
    <defName>OWD_LinkPerception</defName>
    <label>Necrotic link Perception</label>
    <hediffClass>HediffWithComps</hediffClass>
    <description>The user's mind is subtly attuned to the necrotic link, granting a sense of detachment and boosting healing speed.</description>
   <defaultLabelColor>(0.39, 1.0, 0.39)</defaultLabelColor>
    <isBad>false</isBad>
    <comps>
      <li Class="HediffCompProperties_Disappears">
        <disappearsAfterTicks>120000</disappearsAfterTicks> <!-- 2 days -->
        <showRemainingTime>true</showRemainingTime>
      </li>
    </comps>
    <stages>
      <li>
        <blocksMentalBreaks>true</blocksMentalBreaks>
        <blocksInspirations>true</blocksInspirations>
        <pctAllThoughtNullification>1</pctAllThoughtNullification>
        <overrideMoodBase>0.8</overrideMoodBase>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <offset>-0.2</offset>
          </li>
        </capMods>
        <statFactors>
          <InjuryHealingFactor>3</InjuryHealingFactor>
        </statFactors>
      </li>
    </stages>
  </HediffDef>

  <HediffDef>
    <defName>OWD_TonicHealing</defName>
    <label>necrotic mending (tonic)</label>
    <defaultLabelColor>(0.39, 1.0, 0.39)</defaultLabelColor>
    <description>A short, intense surge of necrotic energy is actively knitting this creature's wounds back together.</description>
    <hediffClass>HediffWithComps</hediffClass>
    <isBad>false</isBad>
    <defaultLabelColor>(0.4, 1.0, 0.4)</defaultLabelColor>
    <comps>
      <li Class="HediffCompProperties_Disappears">
        <disappearsAfterTicks>2000</disappearsAfterTicks> 
        <showRemainingTime>true</showRemainingTime>
      </li>
      <li Class="OneWithDeath.HediffCompProperties_NecroticMending"/>
    </comps>
  </HediffDef>










</Defs>